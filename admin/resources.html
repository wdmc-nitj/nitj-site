<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resources - NITJ</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../style.css" />

  <!-- ICONS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />
  <!-- font-family: 'Barlow', sans-serif;
    font-family: 'Poppins', sans-serif; -->

  <style>
    /* Customizing the Scrollbar */
    ::-webkit-scrollbar-thumb {
      background-color: #212121;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: gray;
    }

    ::-webkit-scrollbar {
      width: 4px;
      height: 2px;
    }

    ::-webkit-resizer {
      background-color: #ffffff;
    }

    .material-symbols-outlined {
      font-variation-settings: "FILL" 0, "wght" 300, "grad" 0, "opzs" 20;
    }

    .font2 {
      font-family: "Barlow", sans-serif;
    }

    :root {
      --primary-color: #fff;
      --background-color: #212121;

      --blue-color: #0369a1;
      --light-blue-color: #f6f6fe;
      --purple-color: #040320;
      --font1: "Poppins", sans-serif;
      --font2: "Barlow", sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
    }

    .main-body {
      font-family: var(--font1);
    }

    .titlebg {
      background: linear-gradient(90.09deg,
          rgba(0, 0, 0, 0.7) 0.08%,
          rgba(255, 255, 255, 0) 99.11%),
        url(img/about_top.jpg);
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
    }

    #gal1 {
      animation: fadeEffect 1s;
      /* Fading effect takes 1 second */
    }

    @keyframes fadeEffect {

      /* Go from zero to full opacity */
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <script src="/common template/header.js" type="module"></script>

  <div class="main-body flex flex-col gap-8 lg:gap-12 pt-[112px] md:pt-[144px] lg:pt-[144px] lg:mb-16">
    <div class="titlebg">
      <div class="container flex flex-col justify-center items-start h-[224px] py-[48px]">
        <!-- px-4 lg:px-[11%] -->
        <p class="font2 font-bold text-[52px] lg:text-[68px] uppercase text-white leading-[1]">Resources
        </p>
      </div>
      <nav class="flex bg-gray-200 py-[8px] text-black" aria-label="Breadcrumb">
        <ol class="container inline-flex items-center">
          <li class="inline-flex items-center">
            <a href="" class="inline-flex items-center text-sm font-medium hover:text-gray-900">
              <a href="../index.html" class="text-lg font-medium ml-2">Home</a>
            </a>
          </li>
          <li aria-current="page">
            <div class="inline-flex items-center">
              <i style="
                        color: rgb(128, 128, 128);
                        font-size: 12px;
                        margin-left: 12px;
                      " class="fa-solid fa-angle-right ml-2"></i>
              <a href="#" class="text-lg font-medium ml-2">Resources</a>
            </div>
          </li>
        </ol>
      </nav>
    </div>
  </div>

  <div id="resources" class="container relative flex flex-col items-center justify-center mb-16">
    <div class="relative w-full mt-10 lg:mt-0 lg:w-1/3 search-container text-blue-600 mb-8">
      <label for="searchbar"
        class="p-1 absolute top-0 bottom-6 left-2 bg-white text-lg transition-all duration-300 ease-in-out transform -translate-y-full pointer-events-none">Search:</label>
      <input id="searchbar" onkeyup="search_resources()" type="text"
        class="w-full border-0 rounded-lg px-4 py-3 transition duration-300 ease-in-out ring-2 ring-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-600"
        placeholder="Search for resources...">
    </div>
    <div id="Big_alphabets"
      class="grid grid-flow-row-dense grid-cols-1 md:grid-cols-2 lg:grid-cols-4 grid-rows-3 gap-8">
      <!-- <div id="Big_alphabets"></div> -->
    </div>
  </div>

  <script>
    function displayWords(words, links) {
      let sortedWords = words.sort();
      let groupedWords = sortedWords.reduce((acc, word) => {
        let firstLetter = word[0].toUpperCase();
        if (!acc[firstLetter]) {
          acc[firstLetter] = [];
        }
        acc[firstLetter].push(word);
        return acc;
      }, {});
      for (let letter in groupedWords) {

        let Big_alphabets_heading = document.getElementById("Big_alphabets");

        let h2 = document.createElement('h2');
        h2.setAttribute("class", "head text-accent text-4xl text-center font-bold text-black border-b-2 border-accent mb-4");
        h2.textContent = letter;

        // let listhead = document.createElement('li');
        // alphaheading = listhead.appendChild(h2);
        // ul.appendChild(alphaheading);

        let headdivs = document.createElement('div');
        headdivs.setAttribute("class", "headdivs")
        headdivs.appendChild(h2);

        Big_alphabets_heading.appendChild(headdivs);

        let ul = document.createElement('ul');
        ul.setAttribute("class", "pr-2 uls border-accent pt-2 list-disc list-inside text-md font-medium items-center");
        for (let word of groupedWords[letter]) {
          let li = document.createElement('li');
          li.setAttribute("class", "resource w-full text-black text-sm text-left cursor-pointer hover:underline decoration-accent hover:decoration-1 hover:text-accent transition duration-100 ease-in-out");
          let lichild = document.createElement('a');
          lichild.setAttribute("href", links[word]);
          lichild.setAttribute("target", "_blank");
          lichild.textContent = word;
          li.appendChild(lichild);
          ul.appendChild(li);
          headdivs.appendChild(ul);
        }
      }
    }
    // Make a fetch call to the API
    var resources = document.getElementById("resources");
    fetch('https://wdmc-vsj1.onrender.com/resource')
      .then(response => response.json())
      .then(data => {
        // Create an unordered list element
        var displayWordsArr = []
        var links = {}
        data.forEach((element) => {
          if (element.resourceType === 'other') {
            displayWordsArr.push(element["resourceName"])
            links[element["resourceName"]] = element["resourceLink"]
          }
        });
        displayWords(displayWordsArr, links)
        // Loop through the properties of the data object
      });
    function search_resources() {
      let Big_alphabets = document.getElementById('Big_alphabets');
      let input = document.getElementById('searchbar').value;
      input = input.toLowerCase();
      let x = document.getElementsByClassName('resource');
      let header = document.getElementsByClassName('head');
      let uls = document.getElementsByClassName('uls');
      for (let i = 0; i < x.length; i++) {
        if (!x[i].innerHTML.toLowerCase().includes(input) && input != "") {
          x[i].style.display = "none";
        } else {
          x[i].style.display = "list-item";
        }
      }
      for (let j = 0; j < header.length; j++) {
        let listItems = header[j].nextElementSibling.children;
        let allHidden = true;
        for (let k = 0; k < listItems.length; k++) {
          if (listItems[k].style.display != "none") {
            allHidden = false;
            break;
          }
        }
        if (allHidden) {
          header[j].style.display = "none";
          Big_alphabets.setAttribute("class", " ");
          uls[j].setAttribute("class", "uls text-lg pt-2 list-disc list-inside text-md font-medium");

        } else {
          header[j].style.display = "none";
          Big_alphabets.setAttribute("class", " ");
          uls[j].setAttribute("class", "uls text-lg pt-2 list-disc list-inside text-md font-medium");
        }
      }
    }
  </script>
  <script src="app.js"></script>
  <script>
    const searchInput = document.querySelector('#search');
    const searchLabel = document.querySelector('label[for="search"]');

    searchInput.addEventListener('focus', () => {
      searchLabel.classList.add('translate-y-1/4');
    });

    searchInput.addEventListener('blur', () => {
      if (searchInput.value === '') {
        searchLabel.classList.remove('translate-y-1/4');
      }
    });
  </script>
  <script src="../template/footer.js"></script>
</body>

</html>